!function(){var e=document.getElementById("main-menu"),t=e.parentElement,n=document.getElementById("menu-open"),s=document.getElementById("mask"),a=document.documentElement.classList,i="aria-expanded",o="dopen";if(e&&n&&s){for(var c=0,l=t.getElementsByTagName("a"),r=t.querySelectorAll(".menu-item-has-children");c<l.length;++c)l[c].addEventListener("focus",g),l[c].addEventListener("blur",g);for(c=0;c<r.length;++c){var m=document.createElement("span"),u=document.createElement("span");u.className="menuback",u.textContent="back",u.onclick=function(){var n=this.parentElement.parentElement;n.classList.toggle("focus"),(n=n.parentElement).classList.toggle("focus"),t.style.height=Math.max(e.offsetHeight,n.offsetHeight)+"px"},r[c].lastElementChild.insertAdjacentElement("afterbegin",u),m.className="menutog",m.onclick=v,r[c].insertBefore(m,r[c].lastElementChild),"#"==r[c].firstChild.getAttribute("href")?r[c].firstChild.onclick=v:r[c].className+=" seperate-tog"}if("ontouchstart"in window){var d=function(e){var t=this.parentNode;if(document.addEventListener("click",f),t.classList.contains("focus"))t.classList.remove("focus");else{e.preventDefault();for(var n=0;n<t.parentNode.children.length;++n)t!==t.parentNode.children[n]&&t.parentNode.children[n].classList.remove("focus");t.classList.add("focus")}},f=function(e){if(!e||!t.contains(e.target)){for(var n=0;n<r.length;++n)r[n].classList.remove("focus");document.removeEventListener("click",f)}},h=function(){var e=0;if(a.contains("dnav"))for(;e<r.length;++e)r[e].addEventListener("touchstart",d);else for(;e<r.length;++e)r[e].removeEventListener("touchstart",d)};window.addEventListener("resize",h),h()}n.onclick=E,s.onclick=E}function g(e){if(!a.contains("mnav"))for(var t=this;!t.classList.contains("menu");)"LI"==t.tagName&&("blur"==e.type?t.classList.remove("focus"):t.classList.add("focus")),t=t.parentElement}function v(n){a.contains("dnav")||(n.preventDefault(),t.style.height||(t.style.height=e.offsetHeight+"px"),this.parentElement.classList.toggle("focus"),this.parentElement.parentElement.classList.toggle("focus"),t.style.height=Math.max(e.offsetHeight,this.parentElement.lastElementChild.scrollHeight)+"px")}function E(){a.contains(o)?(a.remove(o),n.removeAttribute(i),t.removeAttribute(i)):(a.add(o),n.setAttribute(i,"true"),t.setAttribute(i,"true"))}}();